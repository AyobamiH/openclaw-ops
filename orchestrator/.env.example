# Orchestrator Environment Configuration - TEMPLATE
# Copy to .env and fill in actual values for development
# DO NOT COMMIT .env TO GIT

# ============================================
# CRITICAL: Database Authentication (Required for Production)
# ============================================
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
MONGO_USERNAME=orchestrator
MONGO_PASSWORD=CHANGE_ME_IN_PRODUCTION
MONGO_HOST=mongo
MONGO_PORT=27017
MONGO_DB=orchestrator
DATABASE_URL=mongodb://${MONGO_USERNAME}:${MONGO_PASSWORD}@${MONGO_HOST}:${MONGO_PORT}/${MONGO_DB}

# ============================================
# CRITICAL: Redis Authentication (Required for Production)
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=CHANGE_ME_IN_PRODUCTION
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# ============================================
# CRITICAL: API Authentication (Required for Production)
# ============================================
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
API_KEY=CHANGE_ME_IN_PRODUCTION
WEBHOOK_SECRET=CHANGE_ME_IN_PRODUCTION

# ============================================
# PHASE 3: ALERTING - Slack & SendGrid
# ============================================
SENDGRID_API_KEY=CHANGE_ME_IN_PRODUCTION
SENDGRID_FROM_EMAIL=alerts@openclaw.io
ALERT_EMAIL=team@example.com
SLACK_WEBHOOK_URL=CHANGE_ME_IN_PRODUCTION
SLACK_CHANNEL=#alerts

# ============================================
# PHASE 2/4: AI & LLM Configuration
# ============================================
OPENAI_API_KEY=CHANGE_ME_IN_PRODUCTION
ANTHROPIC_API_KEY=CHANGE_ME_IN_PRODUCTION

# ============================================
# Grafana (Change in Production!)
# ============================================
GRAFANA_PASSWORD=CHANGE_ME_IN_PRODUCTION

# ============================================
# Core Configuration
# ============================================
NODE_ENV=development
LOG_LEVEL=debug
PORT=3000

# Monitoring
PROMETHEUS_ENABLED=true
GRAFANA_ENABLED=true
MONGO_PASSWORD=orchestrator-dev
MONGO_INITDB_DATABASE=orchestrator

# ============================================
# REQUIRED: Cache
# ============================================

# Redis connection string
# Local: redis://:orchestrator-dev@localhost:6379/0
REDIS_URL=redis://:orchestrator-dev@redis:6379/0

# Redis authentication
REDIS_PASSWORD=orchestrator-dev

# ============================================
# APPLICATION SETTINGS
# ============================================

# Node environment
NODE_ENV=development
# Alternatives: production, test, staging

# Log level
LOG_LEVEL=info
# Alternatives: debug, info, warn, error

# API Server Port
PORT=3000

# Node.js memory limit (MB)
NODE_OPTIONS=--max-old-space-size=512

# ============================================
# ORCHESTRATOR CONFIGURATION
# ============================================

# Maximum concurrent agents
MAX_AGENTS=40

# Maximum tasks per second (rate limiting)
MAX_TASKS_PER_SECOND=100

# Task timeout (milliseconds)
TASK_TIMEOUT=30000

# Cost budget cap (Â£)
COST_BUDGET_CAP=20

# Approval gate SLA (milliseconds)
APPROVAL_GATE_SLA=60000

# ============================================
# MONITORING & METRICS
# ============================================

# Prometheus metrics export
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana visibility
GRAFANA_ENABLED=true
GRAFANA_PORT=3001
GRAFANA_PASSWORD=admin

# AlertManager integration
ALERTMANAGER_ENABLED=true
ALERTMANAGER_URL=http://localhost:9093

# ============================================
# AUDIT & COMPLIANCE
# ============================================

# Audit trail logging
AUDIT_ENABLED=true
AUDIT_RETENTION_DAYS=90

# Immutable audit log storage
AUDIT_IMMUTABLE=true

# ============================================
# SECURITY
# ============================================

# JWT secret for API authentication
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# CORS allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Rate limiting per IP
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000

# ============================================
# ADVANCED
# ============================================

# Use local agents (for development)
USE_LOCAL_AGENTS=true

# Agent configuration file path
AGENT_CONFIG_PATH=./config/agents.json

# Skill registry path
SKILL_REGISTRY_PATH=./config/skills.json

# Verbose logging
VERBOSE=false

# ============================================
# DOCKER-COMPOSE SPECIFIC
# ============================================

# These are set automatically by docker-compose but can be overridden

# Compose project name
COMPOSE_PROJECT_NAME=wagging-orchestrator

# Network name (auto-created)
COMPOSE_NETWORK=orchestrator-net
