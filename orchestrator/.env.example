# Orchestrator Environment Configuration
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control

# ============================================
# REQUIRED: API Keys
# ============================================

# OpenAI API Key (for gpt-4o-mini models)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...

# Anthropic API Key (for Claude 3.5 Sonnet models)
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-...

# ============================================
# REQUIRED: Database
# ============================================

# MongoDB connection string
# Local: mongodb://orchestrator:orchestrator-dev@localhost:27017/orchestrator
# Atlas: mongodb+srv://user:password@cluster.mongodb.net/orchestrator
DATABASE_URL=mongodb://orchestrator:orchestrator-dev@mongo:27017/orchestrator

# MongoDB credentials
MONGO_USERNAME=orchestrator
MONGO_PASSWORD=orchestrator-dev
MONGO_INITDB_DATABASE=orchestrator

# ============================================
# REQUIRED: Cache
# ============================================

# Redis connection string
# Local: redis://:orchestrator-dev@localhost:6379/0
REDIS_URL=redis://:orchestrator-dev@redis:6379/0

# Redis authentication
REDIS_PASSWORD=orchestrator-dev

# ============================================
# APPLICATION SETTINGS
# ============================================

# Node environment
NODE_ENV=development
# Alternatives: production, test, staging

# Log level
LOG_LEVEL=info
# Alternatives: debug, info, warn, error

# API Server Port
PORT=3000

# Node.js memory limit (MB)
NODE_OPTIONS=--max-old-space-size=512

# ============================================
# ORCHESTRATOR CONFIGURATION
# ============================================

# Maximum concurrent agents
MAX_AGENTS=40

# Maximum tasks per second (rate limiting)
MAX_TASKS_PER_SECOND=100

# Task timeout (milliseconds)
TASK_TIMEOUT=30000

# Cost budget cap (Â£)
COST_BUDGET_CAP=20

# Approval gate SLA (milliseconds)
APPROVAL_GATE_SLA=60000

# ============================================
# MONITORING & METRICS
# ============================================

# Prometheus metrics export
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana visibility
GRAFANA_ENABLED=true
GRAFANA_PORT=3001
GRAFANA_PASSWORD=admin

# AlertManager integration
ALERTMANAGER_ENABLED=true
ALERTMANAGER_URL=http://localhost:9093

# ============================================
# AUDIT & COMPLIANCE
# ============================================

# Audit trail logging
AUDIT_ENABLED=true
AUDIT_RETENTION_DAYS=90

# Immutable audit log storage
AUDIT_IMMUTABLE=true

# ============================================
# SECURITY
# ============================================

# JWT secret for API authentication
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# CORS allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Rate limiting per IP
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000

# ============================================
# ADVANCED
# ============================================

# Use local agents (for development)
USE_LOCAL_AGENTS=true

# Agent configuration file path
AGENT_CONFIG_PATH=./config/agents.json

# Skill registry path
SKILL_REGISTRY_PATH=./config/skills.json

# Verbose logging
VERBOSE=false

# ============================================
# DOCKER-COMPOSE SPECIFIC
# ============================================

# These are set automatically by docker-compose but can be overridden

# Compose project name
COMPOSE_PROJECT_NAME=wagging-orchestrator

# Network name (auto-created)
COMPOSE_NETWORK=orchestrator-net
